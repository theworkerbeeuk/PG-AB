/**
 * angular-bootstrap-switch
 * @version v0.2.0 - 2013-12-16
 * @author Francesco Pontillo (francescopontillo@gmail.com)
 * @link https://github.com/frapontillo/angular-bootstrap-switch
 * @license Apache License 2.0
**/

"use strict";angular.module("frapontillo.bootstrap-switch",[]),angular.module("frapontillo.bootstrap-switch").directive("bsSwitch",["$timeout",function(a){return{template:'<div data-on-label="{{switchOnLabel}}" data-off-label="{{switchOffLabel}}" data-text-label="{{switchLabel}}" data-icon-label="{{switchIcon}}" data-animated="{{switchAnimate}}" ng-class="{{getSizeClass()}}">  <input ng-model="ngModel"/></div>',restrict:"EA",replace:!0,transclude:!0,scope:{ngModel:"=",switchActive:"@",switchSize:"@",switchOn:"@",switchOff:"@",switchOnLabel:"@",switchOffLabel:"@",switchLabel:"@",switchIcon:"@",switchAnimate:"@"},compile:function(b,c){return c.switchType||(c.switchType="checkbox"),b.find("input").attr("type",c.switchType),function(b,c,d){var e=function(){b.$watch("ngModel",function(a,b){void 0!==a&&a!==b&&c.bootstrapSwitch("setState",a||!1)}),b.$watch("switchActive",function(a){var b=a===!0||"true"===a||!a;c.bootstrapSwitch("setActive",b)}),b.$watch("switchOnLabel",function(a){c.bootstrapSwitch("setOnLabel",a||"Yes")}),b.$watch("switchOffLabel",function(a){c.bootstrapSwitch("setOffLabel",a||"No")}),b.$watch("switchOn",function(a){d.dataOn=a,c.bootstrapSwitch("setOnClass",a||"")}),b.$watch("switchOff",function(a){d.dataOff=a,c.bootstrapSwitch("setOffClass",a||"")}),b.$watch("switchAnimate",function(a){c.bootstrapSwitch("setAnimated",b.$eval(a||"true"))}),b.$watch("switchSize",function(a){c.bootstrapSwitch("setSizeClass",b.getSizeClass(a))}),b.$watch("switchLabel",function(a){c.find("label").html(a||"&nbsp;")}),b.$watch("switchIcon",function(a){a?c.find("label").html('<i class="icon '+a+'"></i>'):b.switchLabel=void 0})},f=function(){c.on("switch-change",function(a,c){var d=c.value;d!==b.ngModel&&b.$apply(function(){b.ngModel=d})})};b.getSizeClass=function(){return d.switchSize?"switch-"+d.switchSize:""},e(),f(),c.bootstrapSwitch(),a(function(){c.bootstrapSwitch("setState",b.ngModel||!1)}),b.$on("$destroy",function(){c.bootstrapSwitch("destroy")})}}}}]);